<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FastAPI Calculator</title>
</head>
<body>
  <h1>Hello World</h1>

  <input id="a" type="number" />
  <input id="b" type="number" />

  <button>Add</button>
  <button>Subtract</button>
  <button>Multiply</button>
  <button>Divide</button>

  <div id="result"></div>

  <script>
    // Simple frontend logic for calculator buttons
    async function calc(op) {
      const a = parseFloat(document.getElementById('a').value);
      const b = parseFloat(document.getElementById('b').value);
      const res = document.getElementById('result');

      try {
        const response = await fetch(`/${op}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ a, b }),
        });

        const data = await response.json();

        if (response.ok) {
          res.textContent = `Calculation Result: ${data.result}`;
        } else {
          res.textContent = `Error: ${data.error}`;
        }
      } catch (err) {
        res.textContent = `Error: ${err}`;
      }
    }

    document.querySelector('button:nth-of-type(1)').onclick = () => calc('add');
    document.querySelector('button:nth-of-type(4)').onclick = () => calc('divide');
  </script>
</body>
</html>
